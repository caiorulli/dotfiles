# Zsh setup
autoload -Uz compinit promptinit
compinit
promptinit

zstyle ':completion:*' menu select
setopt COMPLETE_ALIASES
setopt INC_APPEND_HISTORY
setopt HIST_FIND_NO_DUPS
setopt EXTENDED_HISTORY

# set terminal bindings to emacs
set -o emacs

bindkey -e

system_type=$(uname -s)

# Aliases
alias ls='lsd'
alias ll='ls -l'
alias la='ls -a'
alias lla='ls -la'
alias l='lla'
alias vim='nvim'
alias doom="$XDG_CONFIG_HOME/emacs/bin/doom"
alias wget='wget --hsts-file="$XDG_CACHE_HOME/wget-hsts"'
alias mvn='mvn -gs "$XDG_CONFIG_HOME"/maven/settings.xml'

# direnv setup
eval "$(direnv hook zsh)"

# Zsh plugins
[ -s "/usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh" ] && source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
[ -s "/usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh" ] && source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh

# fzf setup
[ -s "/usr/share/fzf/key-bindings.zsh" ] && source "/usr/share/fzf/key-bindings.zsh"
[ -s "/usr/share/fzf/completion.zsh" ] && source "/usr/share/fzf/completion.zsh"
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# nvm
export NVM_DIR="$HOME/.nvm"
if [[ -s "$NVM_DIR/nvm.sh" ]]; then
  \. "$NVM_DIR/nvm.sh"
elif [[ -s "/usr/share/nvm/init-nvm.sh" ]]; then
  source "/usr/share/nvm/init-nvm.sh"
fi

# starship
eval "$(starship init zsh)"

